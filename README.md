# 🎥 کنترل کننده گرافیکی دوربین ITC231-RF1A-IR

برنامه Windows Forms با پایتون برای کنترل دوربین مدل ITC231-RF1A-IR با نمایش استریم زنده و قابلیت گرفتن عکس.

## ✨ ویژگی‌ها

- 🎬 **نمایش استریم زنده** با کیفیت بالا
- 📸 **گرفتن عکس** با کیفیت قابل تنظیم
- 🖥️ **رابط گرافیکی کاربرپسند** با PyQt5
- ⚙️ **تنظیمات پیشرفته** برای کیفیت و نام‌گذاری
- 📊 **نمایش اطلاعات زنده** (FPS، تعداد فریم)
- 🔍 **تست اتصال** به دوربین
- 📝 **لاگ رویدادها** برای پیگیری عملکرد
- 💾 **ذخیره تنظیمات** برای استفاده بعدی

## 📋 پیش‌نیازها

- Python 3.7 یا بالاتر
- ویندوز (برای Windows Forms)
- اتصال شبکه به دوربین

## 🔧 نصب و راه‌اندازی

### 1. کلون کردن پروژه
```bash
git clone [آدرس پروژه]
cd readCamera
```

### 2. نصب وابستگی‌ها
```bash
pip install -r requirements.txt
```

### 3. تنظیم مشخصات دوربین
فایل `camera_gui.py` را باز کنید و مشخصات دوربین خود را در خطوط زیر وارد کنید:

```python
# تنظیمات دوربین
self.camera_ip = "192.168.1.108"      # آدرس IP دوربین
self.username = "admin"               # نام کاربری
self.password = "ArashArash"          # رمز عبور
```

### 4. اجرای برنامه
```bash
python camera_gui.py
```

## 🎮 نحوه استفاده

### شروع کار
1. برنامه را اجرا کنید
2. روی دکمه **"🎬 شروع استریم"** کلیک کنید
3. منتظر بمانید تا اتصال برقرار شود

### گرفتن عکس
1. پس از شروع استریم، روی **"📸 گرفتن عکس"** کلیک کنید
2. عکس به طور خودکار در پوشه `snapshots` ذخیره می‌شود
3. می‌توانید کیفیت عکس را از تنظیمات تغییر دهید

### تنظیمات
- **کیفیت عکس**: از اسلایدر کیفیت (1-100%) استفاده کنید
- **نام‌گذاری خودکار**: برای نام‌گذاری با تاریخ و زمان فعال کنید
- **ذخیره تنظیمات**: برای حفظ تنظیمات برای اجراهای بعدی

## 📁 ساختار پروژه

```
readCamera/
├── camera_gui.py           # برنامه اصلی گرافیکی
├── camera_controller.py    # کلاس کنترل دوربین
├── requirements.txt        # وابستگی‌های پروژه
├── README.md              # راهنمای استفاده
└── snapshots/             # پوشه ذخیره عکس‌ها (خودکار ایجاد می‌شود)
```

## 🔧 ویژگی‌های فنی

### پروتکل‌های پشتیبانی شده
- RTSP (اولویت اول)
- HTTP MJPEG
- HTTP Video Stream

### آدرس‌های استریم امتحان شده
- `rtsp://[user]:[pass]@[ip]:554/cam/realmonitor?channel=1&subtype=0`
- `rtsp://[user]:[pass]@[ip]/video1`
- `http://[user]:[pass]@[ip]/videostream.cgi`
- `http://[user]:[pass]@[ip]/mjpeg`

### تنظیمات پیش‌فرض
- **فریم ریت**: 30 FPS
- **کیفیت عکس**: 95%
- **فرمت عکس**: JPEG
- **نام‌گذاری**: تاریخ و زمان

## 🎛️ کلیدهای میانبر

برنامه از کلیدهای میانبر پشتیبانی نمی‌کند اما تمام عملیات از طریق دکمه‌ها قابل دسترسی است.

## 🐛 عیب‌یابی

### مشکلات رایج

1. **خطای اتصال**:
   - آدرس IP، نام کاربری و رمز عبور را بررسی کنید
   - اتصال شبکه را بررسی کنید
   - از "تست اتصال" استفاده کنید

2. **استریم نمایش داده نمی‌شود**:
   - چند ثانیه صبر کنید
   - استریم را متوقف و مجدداً شروع کنید
   - لاگ رویدادها را بررسی کنید

3. **کیفیت تصویر پایین**:
   - اتصال اینترنت را بررسی کنید
   - تنظیمات دوربین را بررسی کنید

### فایل‌های لاگ
تمام رویدادها در قسمت "📝 لاگ رویدادها" نمایش داده می‌شوند.

## 📝 یادداشت‌های مهم

- عکس‌ها در پوشه `snapshots` ذخیره می‌شوند
- تنظیمات در فایل `camera_settings.json` ذخیره می‌شوند
- برنامه از threading استفاده می‌کند تا رابط کاربری منجمد نشود
- پشتیبانی از رزولوشن‌های مختلف دوربین

## 🆘 پشتیبانی

در صورت بروز مشکل:
1. لاگ رویدادها را بررسی کنید
2. تست اتصال را انجام دهید
3. مشخصات دوربین را دوباره بررسی کنید

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

---

**ساخته شده با ❤️ برای کنترل دوربین ITC231-RF1A-IR**